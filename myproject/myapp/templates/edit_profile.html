<!DOCTYPE html>
<html>
<head>
    <title>Edit Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <div class="card shadow p-4">
        <h3 class="mb-4">Edit Profile</h3>

        {% if message %}
            <div class="alert alert-success">{{ message }}</div>
        {% endif %}

        {% if error %}
            <div class="alert alert-danger">{{ error }}</div>
        {% endif %}

        <form method="post">
            {% csrf_token %}

            <!-- Username -->
            <div class="mb-3">
                <label for="username" class="form-label">Username</label>
                <input type="text" class="form-control" id="username" name="username" value="{{ student.username }}">
                {% if errors.username %}
                    <div class="text-danger small">{{ errors.username|join:", " }}</div>
                {% endif %}
            </div>

            <div class="mb-3">
    <label for="name" class="form-label">Name</label>
    <input type="text" class="form-control" id="name" name="name" value="{{ student.name }}">
    {% if errors.name %}
        <div class="text-danger small">{{ errors.name|join:", " }}</div>
    {% endif %}
</div>


            <!-- Email -->
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" name="email" value="{{ student.email }}">
                {% if errors.email %}
                    <div class="text-danger small">{{ errors.email|join:", " }}</div>
                {% endif %}
            </div>

            <!-- Class -->
            <div class="mb-3">
                <label for="class_name" class="form-label">Class</label>
                <input type="text" class="form-control" id="class_name" name="class_name" value="{{ student.class_name }}">
                {% if errors.class_name %}
                    <div class="text-danger small">{{ errors.class_name|join:", " }}</div>
                {% endif %}
            </div>

            <!-- Admission Date -->
            <div class="mb-3">
    <label for="admission_date" class="form-label">Admission Date</label>
    <input type="date" class="form-control" id="admission_date" name="admission_date" 
           value="{{ student.admission_date|date:'Y-m-d' }}">
    {% if errors.admission_date %}
        <div class="text-danger small">{{ errors.admission_date|join:", " }}</div>
    {% endif %}
</div>


            <!-- Age -->
            <div class="mb-3">
                <label for="age" class="form-label">Age</label>
                <input type="number" class="form-control" id="age" name="age" value="{{ student.age }}">
                {% if errors.age %}
                    <div class="text-danger small">{{ errors.age|join:", " }}</div>
                {% endif %}
            </div>

            <!-- Password -->
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" class="form-control" id="password" name="password" value="{{ student.password }}">
                {% if errors.password %}
                    <div class="text-danger small">{{ errors.password|join:", " }}</div>
                {% endif %}
            </div>
           
            <!-- Submit -->
            <button type="submit" class="btn btn-primary">Update</button>
        </form>

        {% if errors %}
            <div class="alert alert-danger mt-3">
                <ul class="mb-0">
                    {% for field, msgs in errors.items %}
                        <li><strong>{{ field }}:</strong> {{ msgs|join:", " }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    </div>
</div>
</body>
</html>
